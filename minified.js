const jsonfile=new Request("items.json"),listing=document.getElementById("listingg"),results=document.getElementById("contentlist");var animate=!0,section="greetmsg";function btndisplay(e){section!==e&&(document.getElementById(section).setAttribute("class","none"),section=e,document.getElementById(e).setAttribute("class","selecteditem"),document.getElementById("contentlist").innerHTML="",fetch(jsonfile).then((e=>e.json())).then((t=>{for(const n of t[e]){const e=document.createElement("li");if("greetmsg"==n&&(console.log(n),e.appendChild(document.createElement("span")).textContent=n.name,results.appendChild(e)),void 0!==n.name){if(void 0!==n.icon&&(e.appendChild(document.createElement("img")).src=n.icon),e.appendChild(document.createElement("span")).textContent=" "+n.name+" ",void 0!==n.kmoji){let t=pickRandomProperty(n.kaomojis);e.appendChild(document.createElement("strong")).textContent=n.kaomojis[t]}void 0!==n.tag&&(e.appendChild(document.createElement("strong")).textContent=n.tag),void 0!==n.link?e.setAttribute("onclick",`if (confirm('would you like to go to ${n.link}?') == true) {location.href='${n.link}';}`):e.setAttribute("onclick","YOUUU();"),void 0!==n.dl&&e.setAttribute("onclick",`if (confirm('would you like to download a file from \\n${n.link}\\n') == true) {downloadFile('${n.link}', '${n.filename}');}`),void 0!==n.exec&&e.setAttribute("onclick",`${n.exec}`),results.appendChild(e)}}})))}function pickRandomProperty(e){var t,n=0;for(var o in e)Math.random()<1/++n&&(t=o);return t}function YOUUU(){new Audio("uuu.ogg").play()}async function downloadFile(e,t){try{const n=document.createElement("a"),o=await fetch(e,{headers:{Accept:"application/json, text/plain,application/zip, image/png, image/jpeg, image/*"}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const i=await o.blob(),l=URL.createObjectURL(i);n.href=l,n.download=t||"file-name",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}catch(e){console.error("Error in fetching and downloading file:",e)}}function animationtoggle(){switch(animate){case!0:document.getElementById("title").style.animationName="null",document.getElementById("subtitle").style.animationName="null",document.body.style.animationPlayState="paused",animate=!1;break;case!1:document.getElementById("title").style.animationName="titleintro",document.getElementById("subtitle").style.animationName="pagecontent",document.body.style.animationPlayState="running",animate=!0}}fetch(jsonfile).then((e=>e.json())).then((e=>{for(const t of e.quotes){let e=pickRandomProperty(t.nmpinla);document.getElementById("subtitle").innerHTML=t.nmpinla[e]}for(const t of e.options){const e=document.createElement("li");e.appendChild(document.createElement("span")).textContent=t.name,void 0!==t.exec?e.setAttribute("onclick",`${t.exec}`):e.setAttribute("onclick",`btndisplay('${t.section}')`),e.setAttribute("id",`${t.section}`),listing.appendChild(e)}document.getElementById("greetmsg").setAttribute("class","selecteditem");for(const t of e[section]){const e=document.createElement("li");e.appendChild(document.createElement("span")).textContent=t.name,results.appendChild(e)}}));